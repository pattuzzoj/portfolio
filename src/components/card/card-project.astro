---
import { Icon } from "astro-icon/components";
import Github from "@/assets/icons/GitHub.svg";
import TechLabel from "@/components/tech-label.astro";
import { Image } from "astro:assets";
import { isArray } from "@utilify/core";
import i18n from "@/i18n";

const t = i18n.t;

interface Props {
  banner: ImageMetadata;
  title: string;
  description: string;
  techs: string[];
  live: string;
  github: string;
}

const props = Astro.props;

const techs = props.techs as string[];
---

<div class="flex flex-col justify-between gap-4 max-w-sm border-1 border-slate-700 rounded-md bg-slate-900 p-4">
  <Image class="aspect-video object-cover object-top-left rounded-md" width={500} height={200} src={props.banner} alt="" />
  <div class="h-full flex flex-col justify-between space-y-4">
    <h3>{props.title}</h3>
    <p class="text-sm text-slate-400">{props.description}</p>
    <div class="flex items-center flex-wrap gap-2" >
      {isArray(techs) && techs.map(tech => <TechLabel>{tech}</TechLabel>)}
    </div>
    <div class="flex justify-between items-center gap-2">
      <a class="flex justify-center items-center w-full gap-2 bg-blue-600 hover:bg-blue-700 rounded-lg p-2" href={props.live} target="_blank">
        <Icon name="lucide:square-arrow-out-up-right" class="h-4" />
        {t("home:projects.cta")}
      </a>
      <a class="group flex items-center h-full border-1 border-slate-700 rounded-lg p-2 bg-slate-800 hover:bg-slate-700" href={props.github} target="_blank">
        <Github class="w-6 h-6 group-hover:fill-white" />
      </a>
    </div>
  </div>
</div>