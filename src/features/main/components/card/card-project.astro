---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import { isArray } from "@utilify/core";
import Github from "@/shared/assets/icons/GitHub.svg";
import TechLabel from "@/shared/components/tech-label.astro";
import i18n from "@/shared/i18n/index.ts";

interface Props {
  banner: ImageMetadata;
  title: string;
  description: string;
  techs: string[];
  live: string;
  github: string;
}

const props = Astro.props;
const techs = props.techs as string[];
const t = i18n.t;
---

<div class="flex flex-col justify-between gap-4 max-w-sm border border-outline rounded-md bg-fill-surface p-4">
  <Image class="aspect-video object-cover object-top-left rounded-md" width={500} height={200} src={props.banner} alt="" />
  <div class="h-full flex flex-col justify-between space-y-4">
    <h3>{props.title}</h3>
    <p class="text-sm text-ink-soft">{props.description}</p>
    <div class="flex items-center flex-wrap gap-2" >
      {isArray(techs) && techs.map(tech => <TechLabel>{tech}</TechLabel>)}
    </div>
    <div class="flex justify-between items-center gap-2">
      <a class="flex justify-center items-center w-full gap-2 bg-fill-accent hover:bg-fill-accent-hover text-ink-on-accent rounded-lg p-2" href={props.live} target="_blank">
        <Icon name="lucide:square-arrow-out-up-right" class="h-4" />
        {t("home:projects.cta")}
      </a>
      <a class="group flex items-center h-full border border-outline rounded-lg p-2 bg-fill-surface-soft hover:bg-fill-surface-hover" href={props.github} target="_blank">
        <Github class="w-6 h-6 group-hover:fill-white" />
      </a>
    </div>
  </div>
</div>