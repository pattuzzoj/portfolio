import{r as l}from"./index.CYADgoF0.js";import{r as At}from"./index.kbYAAwe0.js";import"./jsx-runtime.BIhoC9-i.js";function xt(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function H(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:o="Provider",errorMessage:s,defaultValue:a}=t,i=l.createContext(a);i.displayName=e;function d(){const f=l.useContext(i);if(!f&&n){const g=new Error(s??xt(r,o));throw g.name="ContextError",Error.captureStackTrace?.(g,d),g}return f}return[i.Provider,d,i]}function St(t){return t==null?[]:Array.isArray(t)?t:[t]}var rn=t=>t[0],on=t=>t[t.length-1];function lt(t,e,n={}){const{step:r=1,loop:o=!0}=n,s=e+r,a=t.length,i=a-1;return e===-1?r>0?0:i:s<0?o?i:0:s>=a?o?0:e>a?a:e:s}function sn(t,e,n={}){return t[lt(t,e,n)]}function Tt(t,e,n={}){const{step:r=1,loop:o=!0}=n;return lt(t,e,{step:-r,loop:o})}function an(t,e,n={}){return t[Tt(t,e,n)]}var it=t=>t?.constructor.name==="Array",Rt=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0},dt=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof t?.isEqual=="function"&&typeof e?.isEqual=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(it(t)&&it(e))return Rt(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(t,n[o]))return!1;for(let o=0;o<r;o++){const s=n[o];if(!dt(t[s],e[s]))return!1}return!0},Ct=t=>t!=null&&typeof t=="object",j=t=>typeof t=="string",O=t=>typeof t=="function",un=t=>t==null,Pt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ot=t=>Object.prototype.toString.call(t),mt=Function.prototype.toString,kt=mt.call(Object),Mt=t=>{if(!Ct(t)||Ot(t)!="[object Object]"||jt(t))return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Pt(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mt.call(n)==kt},Dt=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,Lt=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,jt=t=>Dt(t)||Lt(t),cn=t=>t,It=t=>t(),fn=()=>{},Vt=(...t)=>(...e)=>{t.forEach(function(n){n?.(...e)})};function gt(t){if(!Mt(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const o=t[r];o!==void 0&&(n[r]=gt(o))}return n}function at(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Ut(t,e){if(t==null)throw new Error(e())}var Ft=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),$t=()=>{},F=t=>typeof t=="object"&&t!==null,ln=t=>t?"":void 0,dn=t=>t?"true":void 0,Kt=1,qt=9,_t=11,N=t=>F(t)&&t.nodeType===Kt&&typeof t.nodeName=="string",pt=t=>F(t)&&t.nodeType===qt,Wt=t=>F(t)&&t===t.window,yt=t=>N(t)?t.localName||"":"#document";function zt(t){return["html","body","#document"].includes(yt(t))}var Bt=t=>F(t)&&t.nodeType!==void 0,I=t=>Bt(t)&&t.nodeType===_t&&"host"in t,Gt=t=>N(t)&&t.localName==="input",mn=t=>!!t?.matches("a[href]"),Ht=t=>N(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1;function B(t){if(!t)return!1;const e=t.getRootNode();return vt(e)===t}var Xt=/(textarea|select)/;function gn(t){if(t==null||!N(t))return!1;try{return Gt(t)&&t.selectionStart!=null||Xt.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function pn(t,e){if(!t||!e||!N(t)||!N(e))return!1;const n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&I(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function $(t){return pt(t)?t:Wt(t)?t.document:t?.ownerDocument??document}function Zt(t){return $(t).documentElement}function C(t){return I(t)?C(t.host):pt(t)?t.defaultView??window:N(t)?t.ownerDocument?.defaultView??window:window}function vt(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(!n||n===e)break;e=n}return e}function Jt(t){if(yt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I(t)&&t.host||Zt(t);return I(e)?e.host:e}var _=new WeakMap;function Yt(t){return _.has(t)||_.set(t,C(t).getComputedStyle(t)),_.get(t)}var K=()=>typeof document<"u";function Qt(){return navigator.userAgentData?.platform??navigator.platform}function te(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var X=t=>K()&&t.test(Qt()),ee=t=>K()&&t.test(te()),ne=t=>K()&&t.test(navigator.vendor),yn=()=>K()&&!!navigator.maxTouchPoints,re=()=>X(/^iPhone/i),oe=()=>X(/^iPad/i)||q()&&navigator.maxTouchPoints>1,se=()=>re()||oe(),ie=()=>q()||se(),q=()=>X(/^Mac/i),vn=()=>ie()&&ne(/apple/i),ae=()=>ee(/Firefox/i);function ue(t){return t.composedPath?.()??t.nativeEvent?.composedPath?.()}function ce(t){return ue(t)?.[0]??t.target}function hn(t){const e=t.currentTarget;if(!e||!e.matches("a[href], button[type='submit'], input[type='submit']"))return!1;const r=t.button===1,o=fe(t);return r||o}function En(t){const e=t.currentTarget;if(!e)return!1;const n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function bn(t){return me(t).isComposing||t.keyCode===229}function fe(t){return q()?t.metaKey:t.ctrlKey}function Nn(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var wn=t=>t.button===2||q()&&t.ctrlKey&&t.button===0,An=t=>t.ctrlKey||t.altKey||t.metaKey,le=t=>"touches"in t&&t.touches.length>0,de={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},ut={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function xn(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let o=t.key;return o=de[o]??o,n==="rtl"&&r==="horizontal"&&o in ut&&(o=ut[o]),o}function me(t){return t.nativeEvent??t}function Sn(t,e="client"){const n=le(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Tn=(t,e,n,r)=>{const o=typeof t=="function"?t():t;return o?.addEventListener(e,n,r),()=>{o?.removeEventListener(e,n,r)}},ht=t=>N(t)&&t.tagName==="IFRAME",ge=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Z="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",pe=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Z));(e==!0||e=="if-empty"&&n.length===0)&&N(t)&&G(t)&&n.unshift(t);const o=n.filter(G);return o.forEach((s,a)=>{if(ht(s)&&s.contentDocument){const i=s.contentDocument.body;o.splice(a,1,...pe(i))}}),o};function G(t){return!t||t.closest("[inert]")?!1:t.matches(Z)&&Ht(t)}function J(t,e){if(!t)return[];const r=Array.from(t.querySelectorAll(Z)).filter(ye);return r.forEach((o,s)=>{if(ht(o)&&o.contentDocument){const a=o.contentDocument.body,i=J(a);r.splice(s,1,...i)}}),r.length,r}function ye(t){return t!=null&&t.tabIndex>0?!0:G(t)&&!ge(t)}function ve(t,e){const n=J(t,e),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function Rn(t){const{root:e,getInitialEl:n,filter:r,enabled:o=!0}=t;if(!o)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e?.querySelector("[data-autofocus],[autofocus]")),!s){const a=J(e);s=r?a.filter(r)[0]:a[0]}return s||e||void 0}function Cn(t){const e=t.currentTarget;if(!e)return!1;const[n,r]=ve(e);return!(B(n)&&t.shiftKey||B(r)&&!t.shiftKey||!n&&!r)}function he(t){const e=new Set;function n(r){const o=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(t)),function(){e.forEach(o=>o())}}function V(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e?.()}}function Ee(t,e,n){const r=V(()=>{t.removeEventListener(e,o,!0),n()}),o=()=>{r(),n()};return t.addEventListener(e,o,{once:!0,capture:!0}),r}function be(t,e){if(!t)return;const{attributes:n,callback:r}=e,o=t.ownerDocument.defaultView||window,s=new o.MutationObserver(a=>{for(const i of a)i.type==="attributes"&&i.attributeName&&n.includes(i.attributeName)&&r(i)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function Pn(t,e){const n=V,r=[];return r.push(n(()=>{const o=typeof t=="function"?t():t;r.push(be(o,e))})),()=>{r.forEach(o=>o?.())}}function On(t){const e=()=>{const n=C(t);t.dispatchEvent(new n.MouseEvent("click"))};ae()?Ee(t,"keyup",e):queueMicrotask(e)}function Ne(t){const e=Jt(t);return zt(e)?$(e).body:N(e)&&Et(e)?e:Ne(e)}var we=/auto|scroll|overlay|hidden|clip/,Ae=new Set(["inline","contents"]);function Et(t){const e=C(t),{overflow:n,overflowX:r,overflowY:o,display:s}=e.getComputedStyle(t);return we.test(n+o+r)&&!Ae.has(s)}function xe(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function kn(t,e){const{rootEl:n,...r}=e||{};!t||!n||!Et(n)||!xe(n)||t.scrollIntoView(r)}function Mn(t,e){return Array.from(t?.querySelectorAll(e)??[])}var Y=t=>t.id;function Se(t,e,n=Y){return t.find(r=>n(r)===e)}function Q(t,e,n=Y){const r=Se(t,e,n);return r?t.indexOf(r):-1}function Dn(t,e,n=!0){let r=Q(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function Ln(t,e,n=!0){let r=Q(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}function jn(t,e){const{onEntry:n,measure:r,box:o="border-box"}=e,s=(Array.isArray(t)?t:[t]).filter(N),a=C(s[0]),i=f=>{const g=s.map(p=>r(p));n({rects:g,entries:f})};i([]);const d=new a.ResizeObserver(i);return s.forEach(f=>d.observe(f,{box:o})),()=>d.disconnect()}var Te=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Re=t=>Te(t.dataset?.valuetext??t.textContent??""),Ce=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function Pe(t,e,n,r=Y){const o=n?Q(t,n,r):-1;let s=n?Ft(t,o):t;return e.length===1&&(s=s.filter(i=>r(i)!==n)),s.find(i=>Ce(Re(i),e))}function Oe(t,e){if(!t)return $t;const n=Object.keys(e).reduce((r,o)=>(r[o]=t.style.getPropertyValue(o),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function ke(t,e){const{state:n,activeId:r,key:o,timeout:s=350,itemToId:a}=e,i=n.keysSoFar+o,f=i.length>1&&Array.from(i).every(x=>x===i[0])?i[0]:i;let g=t.slice();const p=Pe(g,f,r,a);function v(){clearTimeout(n.timer),n.timer=-1}function h(x){n.keysSoFar=x,v(),x!==""&&(n.timer=+setTimeout(()=>{h(""),v()},s))}return h(i),p}var In=Object.assign(ke,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Me});function Me(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}function De(t,e,n){const{signal:r}=e;return[new Promise((a,i)=>{const d=setTimeout(()=>{i(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(d),i(new Error("Promise aborted"))}),t.then(f=>{r.aborted||(clearTimeout(d),a(f))}).catch(f=>{r.aborted||(clearTimeout(d),i(f))})}),()=>e.abort()]}function Vn(t,e){const{timeout:n,rootNode:r}=e,o=C(r),s=$(r),a=new o.AbortController;return De(new Promise(i=>{const d=t();if(d){i(d);return}const f=new o.MutationObserver(()=>{const g=t();g&&g.isConnected&&(f.disconnect(),i(g))});f.observe(s.body,{childList:!0,subtree:!0})}),a,n)}var Le=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),je=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,ct=t=>{const e={};let n;for(;n=je.exec(t);)e[n[1]]=n[2];return e},Ie=(t,e)=>{if(j(t)){if(j(e))return`${t};${e}`;t=ct(t)}else j(e)&&(e=ct(e));return Object.assign({},t??{},e??{})};function Ve(...t){let e={};for(let n of t){if(!n)continue;for(let o in e){if(o.startsWith("on")&&typeof e[o]=="function"&&typeof n[o]=="function"){e[o]=Vt(n[o],e[o]);continue}if(o==="className"||o==="class"){e[o]=Le(e[o],n[o]);continue}if(o==="style"){e[o]=Ie(e[o],n[o]);continue}e[o]=n[o]!==void 0?n[o]:e[o]}for(let o in n)e[o]===void 0&&(e[o]=n[o]);const r=Object.getOwnPropertySymbols(n);for(let o of r)e[o]=n[o]}return e}function Ue(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}function Un(t){return t}function Fn(){return{guards:Ue(),createMachine:t=>t,choose:t=>function({choose:n}){return n(t)?.actions}}}var R=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(R||{}),W="__init__";function Fe(t){const e=()=>t.getRootNode?.()??document,n=()=>$(e());return{...t,getRootNode:e,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>vt(e()),isActiveElement:B,getById:a=>e().getElementById(a)}}var tt=At();function $e(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var Ke=()=>t=>Array.from(new Set(t)),bt=typeof globalThis.document<"u"?l.useLayoutEffect:l.useEffect;function U(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[r]=l.useState(e),[o,s]=l.useState(r),a=t().value!==void 0,i=l.useRef(o);i.current=a?t().value:o;const d=l.useRef(i.current);bt(()=>{d.current=i.current},[o,t().value]);const f=p=>{const v=d.current,h=O(p)?p(v):p;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:h,prev:v}),a||s(h),n(h,v)||t().onChange?.(h,v)};function g(){return a?t().value:o}return{initial:r,ref:i,get:g,set(p){(t().sync?tt.flushSync:It)(()=>f(p))},invoke(p,v){t().onChange?.(p,v)},hash(p){return t().hash?.(p)??String(p)}}}U.cleanup=t=>{l.useEffect(()=>t,[])};U.ref=t=>{const e=l.useRef(t);return{get:()=>e.current,set:n=>{e.current=n}}};function qe(t){const e=l.useRef(t);return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}var _e=(t,e)=>{const n=l.useRef(!1),r=l.useRef(!1);l.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},[...(t??[]).map(o=>typeof o=="function"?o():o)]),l.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function We(t,e={}){const n=l.useMemo(()=>{const{id:u,ids:c,getRootNode:y}=e;return Fe({id:u,ids:c,getRootNode:y})},[e]),r=(...u)=>{t.debug&&console.log(...u)},o=t.props?.({props:gt(e),scope:n})??e,s=ze(o),a=t.context?.({prop:s,bindable:U,scope:n,flush:ft,getContext(){return d},getComputed(){return M},getRefs(){return k},getEvent(){return h()}}),i=Nt(a),d={get(u){return i.current?.[u].ref.current},set(u,c){i.current?.[u].set(c)},initial(u){return i.current?.[u].initial},hash(u){const c=i.current?.[u].get();return i.current?.[u].hash(c)}},f=l.useRef(new Map),g=l.useRef(null),p=l.useRef(null),v=l.useRef({type:""}),h=()=>({...v.current,current(){return v.current},previous(){return p.current}}),x=()=>({...E,matches(...u){return u.includes(E.ref.current)},hasTag(u){return!!t.states[E.ref.current]?.tags?.includes(u)}}),k=qe(t.refs?.({prop:s,context:d})??{}),w=()=>({state:x(),context:d,event:h(),prop:s,send:st,action:S,guard:et,track:_e,refs:k,computed:M,flush:ft,scope:n,choose:rt}),S=u=>{const c=O(u)?u(w()):u;if(!c)return;const y=c.map(m=>{const b=t.implementations?.actions?.[m];return b||at(`[zag-js] No implementation found for action "${JSON.stringify(m)}"`),b});for(const m of y)m?.(w())},et=u=>O(u)?u(w()):t.implementations?.guards?.[u](w()),nt=u=>{const c=O(u)?u(w()):u;if(!c)return;const y=c.map(b=>{const A=t.implementations?.effects?.[b];return A||at(`[zag-js] No implementation found for effect "${JSON.stringify(b)}"`),A}),m=[];for(const b of y){const A=b?.(w());A&&m.push(A)}return()=>m.forEach(b=>b?.())},rt=u=>St(u).find(c=>{let y=!c.guard;return j(c.guard)?y=!!et(c.guard):O(c.guard)&&(y=c.guard(w())),y}),M=u=>{Ut(t.computed,()=>"[zag-js] No computed object found on machine");const c=t.computed[u];return c({context:d,event:h(),prop:s,refs:k,scope:n,computed:M})},E=U(()=>({defaultValue:t.initialState({prop:s}),onChange(u,c){c&&(f.current.get(c)?.(),f.current.delete(c)),c&&S(t.states[c]?.exit),S(g.current?.actions);const y=nt(t.states[u]?.effects);if(y&&f.current.set(u,y),c===W){S(t.entry);const m=nt(t.effects);m&&f.current.set(W,m)}S(t.states[u]?.entry)}})),ot=l.useRef(void 0),P=l.useRef(R.NotStarted);bt(()=>{queueMicrotask(()=>{const y=P.current===R.Started;P.current=R.Started,r(y?"rehydrating...":"initializing...");const m=ot.current??E.initial;E.invoke(m,y?E.get():W)});const u=f.current,c=E.ref.current;return()=>{r("unmounting..."),ot.current=c,P.current=R.Stopped,u.forEach(y=>y?.()),f.current=new Map,g.current=null,queueMicrotask(()=>{S(t.exit)})}},[]);const wt=()=>"ref"in E?E.ref.current:E.get(),st=u=>{queueMicrotask(()=>{if(P.current!==R.Started)return;p.current=v.current,v.current=u;let c=wt();const y=t.states[c].on?.[u.type]??t.on?.[u.type],m=rt(y);if(!m)return;g.current=m;const b=m.target??c;r("transition",u.type,m.target||c,`(${m.actions})`);const A=b!==c;A?tt.flushSync(()=>E.set(b)):m.reenter&&!A?E.invoke(c,c):S(m.actions??[])})};return t.watch?.(w()),{state:x(),send:st,context:d,prop:s,scope:n,refs:k,computed:M,event:h(),getStatus:()=>P.current}}function Nt(t){const e=l.useRef(t);return e.current=t,e}function ze(t){const e=Nt(t);return function(r){return e.current[r]}}function ft(t){queueMicrotask(()=>{tt.flushSync(()=>t())})}var $n=$e(t=>t);function Be(...t){return e=>{const n=[];for(const r of t)if(typeof r=="function"){const o=r(e);typeof o=="function"&&n.push(o)}else r&&(r.current=e);if(n.length)return()=>{for(const r of n)r()}}}function Ge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const z=t=>{const e=l.memo(l.forwardRef((n,r)=>{const{asChild:o,children:s,...a}=n;if(!o)return l.createElement(t,{...a,ref:r},s);if(!l.isValidElement(s))return null;const i=l.Children.only(s),d=Ge(i);return l.cloneElement(i,{...Ve(a,i.props),ref:r?Be(r,d):d})}));return e.displayName=t.displayName||t.name,e},He=()=>{const t=new Map;return new Proxy(z,{apply(e,n,r){return z(r[0])},get(e,n){const r=n;return t.has(r)||t.set(r,z(r)),t.get(r)}})},Kn=He(),qn=()=>(t,e)=>e.reduce((n,r)=>{const[o,s]=n,a=r;return s[a]!==void 0&&(o[a]=s[a]),delete s[a],[o,s]},[{},{...t}]);var D=(t,e=[])=>({parts:(...n)=>{if(Xe(e))return D(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>D(t,[...e,...n]),omit:(...n)=>D(t,e.filter(r=>!n.includes(r))),rename:n=>D(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${T(t)}"][data-part="${T(r)}"]`,`& [data-scope="${T(t)}"][data-part="${T(r)}"]`].join(", "),attrs:{"data-scope":T(t),"data-part":T(r)}}}),{})}),T=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Xe=t=>t.length===0;const[_n,Wn]=H({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),[zn,Bn]=H({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function Ze(t,e){const{state:n,send:r,context:o}=t,s=n.matches("mounted","unmountSuspended");return{skip:!o.get("initial"),present:s,setNode(a){a&&r({type:"NODE.SET",node:a})},unmount(){r({type:"UNMOUNT"})}}}var Je={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,prop:e,send:n}){t([()=>e("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},invokeOnExitComplete:({prop:t})=>{t("onExitComplete")?.()},setupNode:({refs:t,event:e})=>{t.get("node")!==e.node&&(t.set("node",e.node),t.set("styles",Yt(e.node)))},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},syncPresence:({context:t,refs:e,send:n,prop:r})=>{const o=r("present");if(o)return n({type:"MOUNT",src:"presence.changed"});const s=e.get("node");if(!o&&s?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});V(()=>{const a=L(e.get("styles"));t.set("unmountAnimationName",a),a==="none"||a===t.get("prevAnimationName")||e.get("styles")?.display==="none"||e.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{V(()=>{t.set("prevAnimationName",L(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const r=e.get("node");if(!r)return;const o=i=>{(i.composedPath?.()?.[0]??i.target)===r&&t.set("prevAnimationName",L(e.get("styles")))},s=i=>{const d=L(e.get("styles"));ce(i)===r&&d===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",o),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s);const a=Oe(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s),he(()=>a())}}}}};function L(t){return t?.animationName||"none"}Ke()(["onExitComplete","present","immediate"]);function Ye(t,e={}){const{sync:n=!1}=e,r=Qe(t);return l.useCallback((...o)=>n?queueMicrotask(()=>r.current?.(...o)):r.current?.(...o),[n,r])}function Qe(t){const e=l.useRef(t);return e.current=t,e}const Gn=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:r,skipAnimationOnMount:o=!1,...s}=t,a=l.useRef(!1),i={...s,present:r,onExitComplete:Ye(t.onExitComplete)},d=We(Je,i),f=Ze(d);f.present&&(a.current=!0);const g=!f.present&&!a.current&&e||n&&!f.present&&a.current,p=()=>({"data-state":f.skip&&o?void 0:r?"open":"closed",hidden:!f.present});return{ref:f.setNode,getPresenceProps:p,present:f.present,unmounted:g}},[Hn,Xn]=H({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});export{En as $,Se as A,Mn as B,Wn as C,Bn as D,We as E,$n as F,fn as G,N as H,un as I,C as J,Yt as K,gt as L,$ as M,I as N,Tn as O,Hn as P,yn as Q,Vt as R,G as S,wn as T,Ne as U,O as V,at as W,Vn as X,Oe as Y,Xn as Z,Pt as _,H as a,Cn as a0,Nn as a1,An as a2,gn as a3,Sn as a4,Un as a5,dn as a6,cn as a7,Ue as a8,Rn as a9,dt as aa,Pn as ab,In as ac,kn as ad,an as ae,sn as af,Kn as b,qn as c,Be as d,D as e,ln as f,vn as g,bn as h,hn as i,pn as j,ce as k,xn as l,Ve as m,Ke as n,mn as o,he as p,pe as q,V as r,Fn as s,jn as t,Gn as u,Ln as v,Dn as w,on as x,rn as y,On as z};
